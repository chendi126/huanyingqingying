# 网页字体使用情况分析

## 一、字体定义（global.css）

### 1. 自定义字体加载
```css
@font-face {
  font-family: 'HYNianHuaSong';
  src: url('/HYWenRunSongYunU.woff') format('woff');
  font-display: swap;
}

@font-face {
  font-family: 'HYWenRunSongYun';
  src: url('/HYNianHuaSongU.ttf') format('truetype');
  font-display: swap;
}

@font-face {
  font-family: 'YunxiWord';
  src: url('/yunxiWord-subset.woff') format('woff');
  font-display: swap;
}
```

### 2. CSS变量定义
```css
:root {
  --font-serif: 'HYNianHuaSong', 'Noto Serif SC', 'KaiTi', 'STKaiti', 'SimSun', serif;
  --font-sans: 'SimHei', 'Microsoft YaHei', sans-serif;
  --font-title: 'YunxiWord', 'HYWenRunSongYun', 'SimHei', 'Microsoft YaHei', sans-serif;
}
```

## 二、首页字体使用

### 1. 小标题（h2）
- **CSS类**: `.intro-section h2`, `.characters-section h2`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: KaiTi（楷体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）
  - **回退顺序**: HYNianHuaSong → Noto Serif SC → KaiTi → STKaiti → SimSun → serif

### 2. 正文（p）
- **CSS类**: `.intro-section p`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: KaiTi（楷体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）
  - **回退顺序**: HYNianHuaSong → Noto Serif SC → KaiTi → STKaiti → SimSun → serif

### 3. 人物姓名
- **CSS类**: `.card-name`
- **字体设置**: `font-family: 'KaiTi', 'STKaiti', 'SimSun', serif;`
- **实际字体**:
  - **默认和加载后**: KaiTi（楷体）
  - **回退顺序**: KaiTi → STKaiti → SimSun → serif

### 4. 人物职称
- **CSS类**: `.card-title`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: SimSun（宋体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）

## 三、详情页字体使用

### 1. 人物姓名
- **CSS类**: `.detail-name`
- **字体设置**: `font-family: 'KaiTi', 'STKaiti', 'SimSun', serif;`
- **实际字体**:
  - **默认和加载后**: KaiTi（楷体）
  - **回退顺序**: KaiTi → STKaiti → SimSun → serif

### 2. 人物职称
- **CSS类**: `.detail-title`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: KaiTi（楷体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）

### 3. 小标题（成就、视频等）
- **CSS类**: `.achievements-section h2`, `.video-section h2`
- **字体设置**: `font-family: var(--font-title);`
- **实际字体**:
  - **默认（加载前）**: SimHei（黑体）或 Microsoft YaHei（微软雅黑）
  - **加载后**: YunxiWord（云溪体）
  - **回退顺序**: YunxiWord → HYWenRunSongYun → SimHei → Microsoft YaHei → sans-serif

### 4. 正文描述
- **CSS类**: `.description-text`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: KaiTi（楷体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）

### 5. 成就列表
- **CSS类**: `.achievements-list li`
- **字体设置**: `font-family: var(--font-serif);`
- **实际字体**:
  - **默认（加载前）**: KaiTi（楷体）
  - **加载后**: HYNianHuaSong（汉仪年华宋）

## 四、字体加载机制

### font-display: swap
所有自定义字体都使用了 `font-display: swap` 策略：

1. **初始阶段（0-100ms）**：
   - 使用不可见文本（FOIT - Flash of Invisible Text）
   - 浏览器等待自定义字体加载

2. **交换阶段（100ms后）**：
   - 如果自定义字体未加载完成，显示回退字体（SimSun/SimHei等）
   - 自定义字体加载完成后立即替换

3. **失败阶段**：
   - 如果自定义字体加载失败，永久使用回退字体

## 五、总结

### 默认字体（加载前/加载失败）
- **小标题**: KaiTi（楷体）✅ 已修改
- **正文**: KaiTi（楷体）✅ 已修改
- **人物姓名**: KaiTi（楷体）
- **特殊标题**: SimHei（黑体）或 Microsoft YaHei（微软雅黑）

### 加载后字体
- **小标题**: HYNianHuaSong（汉仪年华宋）
- **正文**: HYNianHuaSong（汉仪年华宋）
- **人物姓名**: KaiTi（楷体）- 无需加载，系统自带
- **特殊标题**: YunxiWord（云溪体）

### 字体文件
- `/HYWenRunSongYunU.woff` - 汉仪年华宋（正文）
- `/yunxiWord-subset.woff` - 云溪体（特殊标题）
- `/monsterWord-subset.woff` - 怪兽体（主标题"焕影清音"）

### 优化建议
1. 所有字体文件都已优化为WOFF格式（除了一个TTF）
2. 使用了字体子集化（subset）减小文件大小
3. 使用 `font-display: swap` 确保文本快速可见
4. 人物姓名使用系统自带楷体，无需额外加载

